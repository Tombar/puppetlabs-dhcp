# BEGIN DHCP Header
# ----------
# dhcpd.conf
# ----------
authoritative;
default-lease-time <%= @default_lease_time %>;
max-lease-time <%= @max_lease_time %>;
log-facility <%= @logfacility %>;

# ----------
# omapi
# ----------
<% if has_variable?( 'omapi' ) and @omapi -%>
omapi-port <%= omapiport %>;
<% if has_variable?( 'omapikey' ) and @omapikey -%>
    key omapi_key {
        algorithm hmac-md5;
            secret "<%= omapikey %>";
    };
    <% end -%>
<% end -%>

# ----------
# Options
# ----------
option domain-name "<%= @dnsdomain_real.first %>";
option domain-name-servers <%= @nameservers.join(', ') %>;
option fqdn.no-client-update on;  # set the "O" and "S" flag bits
option fqdn.rcode2 255;
option pxegrub code 150 = text;
<% if @globaloptions.is_a? Array -%>
<%   @globaloptions.each do |opt| -%>
option <%= opt %>;
<%   end -%>
<% elsif @globaloptions != '' -%>
option <%= @globaloptions %>;
<% end -%>
# END DHCP Header
